
- name: Install NVM
  become: true
  shell: "curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash"
  # Use the "get_url" module instead:
  # get_url:
  #   url: "https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh"
  #   dest: "/tmp/install_nvm.sh"
  #   mode: "755"
  #   validate_certs: no
  #   timeout: 60

- name: Load NVM
  become: true
  shell: |
    source ~/.bashrc
    source ~/.nvm/nvm.sh
  # Use the "environment" parameter instead:
  # environment:
  #   NVM_DIR: "$HOME/.nvm"
  #   PATH: "$NVM_DIR:$PATH"

- name: Install Node.js
  become: true
  shell: "nvm install 17.9.1"
  # Use the "command" module instead:
  # command:
  #   cmd: "nvm install 17.9.1"
  #   warn: no
