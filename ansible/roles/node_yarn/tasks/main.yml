- name: Install curl
  yum:
    name: curl
    state: present

- name: Install nvm
  shell: curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
  args:
    creates: ~/.nvm

- name: Load nvm
  shell: source ~/.bashrc
  environment:
    PATH: "{{ ansible_env.PATH }}"

- name: Install Node.js 17.9.1 version
  shell: |
    source ~/.bashrc
    nvm install 17.9.1
  args:
    executable: /bin/bash

- name: node_yarn | Install Yarn globally using npm
  command: npm install -g yarn
  environment:
    PATH: "{{ ansible_env.PATH }}"
